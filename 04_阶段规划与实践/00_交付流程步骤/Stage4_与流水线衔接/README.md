---
best_practice_goals: "README.md#关键最佳实践目标"
minimal_closure_verification: "01_本阶段实践与验证.md#验证与准出"
verification_result_ref: "L5 02_验收标准 workflow_stages 映射表 s4 行"
phase_links: ["Phase3_优化与扩展/04_"]
---

# Stage4 · 与流水线衔接

本阶段执行与验证：[01_本阶段实践与验证](01_本阶段实践与验证.md)（含完整实践指令与验证与准出）。

> [!NOTE] **[TRACEBACK] 阶段锚点**
> - **原子规约**: [01_开发生命周期与实践流程规约](../../../03_原子目标与规约/开发与交付/01_开发生命周期与实践流程规约.md)、[03_架构设计共识与协作元规则](../../../03_原子目标与规约/03_架构设计共识与协作元规则.md)
> - **工作流详细规划**: [03_项目全功能开发测试实践工作流详细规划](../../../03_原子目标与规约/开发与交付/03_项目全功能开发测试实践工作流详细规划.md)
> - **DNA stage_id**: `s4`（[dna_dev_workflow.yaml](../../../03_原子目标与规约/_System_DNA/dna_dev_workflow.yaml)）
> - **L4 阶段目录**: `Stage4_与流水线衔接`（与 workflow_stages 一一对应）

## 阶段目标

使代码/镜像满足三级流水线 Level 1 入口要求（Table-Driven Tests、边界条件覆盖），可进入 merge develop / tag 流程。**本阶段针对环境仅 dev（Level 1 准出）**；staging/prod 准入与部署见 [02_基础设施与部署规约](../../../03_原子目标与规约/开发与交付/02_基础设施与部署规约.md) 与 Level 2/3。

## 准入条件

- Stage3 K3s 测试开发期已准出
- 代码与镜像具备 Table-Driven Tests、边界条件覆盖（与 03 架构设计共识 一致）

## 准出条件

- 代码/镜像满足三级流水线 Level 1 入口要求；可进入 merge develop / tag 流程（详细准出清单见 [01_本阶段实践与验证](01_本阶段实践与验证.md)#验证与准出）。

## 交付物

- 满足流水线入口的代码/镜像；入口条件与流程文档化

## 关键最佳实践目标

- 确认所有 Table-Driven Tests 与 03_架构设计共识 中 Level 1 要求一致，CI 可重复执行并通过。
- 确认边界条件覆盖满足 03 文档要求；配置或文档化 commit/merge/tag 触发 Level 1/2/3 的入口条件与流程。
- 代码/镜像可进入 merge develop 或 tag 流程而无阻塞项。

## AI 实践最佳（性价比）推荐模型

| 用途 | 推荐模型或档次 | 理由 |
|------|----------------|------|
| Level 1 验收表与入口流程文档化 | Claude 3.5 Sonnet 或 GPT-4o（待项目选定：架构师 Phase0 前） | 与 03_架构设计共识 对齐，结构化输出 |
| 边界覆盖与阻塞项检查 | 人工为主；可辅以 Cursor 默认模型或 DeepSeek-Coder（待项目选定） | Defense 阶段人工确认，静态/测试工具辅助 |
| 评审/Defense | 人工为主；辅助可用 Claude 3.5 | 准出前人工确认可进入 merge/tag、无阻塞项 |

## 本阶段关联的 Phase 步骤

- [Phase3_优化与扩展](../../Phase3_优化与扩展/) 的 [04_Level1与L5验收对齐](../../Phase3_优化与扩展/04_Level1与L5验收对齐.md)；与 Level 2/3 承接的步骤见 [03_架构设计共识与协作元规则](../../../03_原子目标与规约/03_架构设计共识与协作元规则.md)。

## 目录内文档

- [01_本阶段实践与验证](01_本阶段实践与验证.md)：完整实践指令、验证与准出、验证结果与 L5 同步说明
