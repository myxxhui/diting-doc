# L3 · Stage1-01 三位一体仓库设计

> [!NOTE] **[TRACEBACK] 原子规约锚点**
> - **顶层概念**: [一句话定义与核心价值](../../01_顶层概念/01_一句话定义与核心价值.md)
> - **战略维度**: [开发与交付流程维度](../../02_战略维度/开发与交付/01_开发与交付流程维度.md)
> - **原子规约**: [_共享规约/02_三位一体仓库规约](../_共享规约/02_三位一体仓库规约.md)
> - **DNA**: [_System_DNA/Stage1_仓库与骨架/dna_stage1_01.yaml](../_System_DNA/Stage1_仓库与骨架/dna_stage1_01.yaml)
> - **L4 实践**: [04_阶段规划与实践/Stage1_仓库与骨架/01_三位一体仓库初始化](../../04_阶段规划与实践/Stage1_仓库与骨架/01_三位一体仓库初始化.md#l4-stage1-01-exit)
> - **L5 锚点**: [02_验收标准#l5-stage-stage1_01](../../05_成功标识与验证/02_验收标准.md#l5-stage-stage1_01)

<a id="design-stage1-01-goal"></a>
## 本步目标

三仓目录符合 02_三位一体；diting-core 含最小 Makefile（test 可为占位）；diting-infra 初始化 charts/config/observability/secrets 及 config/environments/dev/deploy.json 占位。

<a id="design-stage1-01-points"></a>
## 设计要点

- **工作目录**：新建仓库的父路径（`global_const.trinity_repos.parent_path_default`）
- **diting-core**：按 `trinity_repos.repo_i.directories` 建目录；Makefile 含 `test`（可为占位）
- **diting-infra**：按 `trinity_repos.repo_a.directories` 建 charts/、config/、observability/、secrets/；config/environments/dev/deploy.json 占位
- **No Secrets**：禁止在 Prompt/01_ 中写明文密钥

<a id="design-stage1-01-exit"></a>
## 准出

三仓存在且目录与 global_const.trinity_repos 一致；diting-core 可执行 `make test`（占位通过）。
